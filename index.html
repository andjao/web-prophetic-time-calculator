<!DOCTYPE html>
<html>

<head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta name="theme-color" content="#ffffff">
    <meta name="description" content="Aplicação que faz calculo de tempo profético">
    <link rel="icon" href="images/icons/icon-192x192.png.png" type="image/gif" sizes="16x16">
    <link rel="apple-touch-icon" href="images/icons/icon-72x72.png">
    <link rel="stylesheet" type="text/css" href="css/paper.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/script.js"></script>
    <script src="js/textsLanguage.js"></script>
    <link rel="manifest" href="manifest.json">
    <script>
        // This is the "Offline page" service worker

        const CACHE = "pwabuilder-page";

        // TODO: replace the following with the correct offline fallback page i.e.: const offlineFallbackPage = "offline.html";
        const offlineFallbackPage = "ToDo-replace-this-name.html";

        // Install stage sets up the offline page in the cache and opens a new cache
        self.addEventListener("install", function (event) {
            console.log("[PWA Builder] Install Event processing");

            event.waitUntil(
                caches.open(CACHE).then(function (cache) {
                    console.log("[PWA Builder] Cached offline page during install");

                    if (offlineFallbackPage === "ToDo-replace-this-name.html") {
                        return cache.add(new Response("TODO: Update the value of the offlineFallbackPage constant in the serviceworker."));
                    }

                    return cache.add(offlineFallbackPage);
                })
            );
        });

        // If any fetch fails, it will show the offline page.
        self.addEventListener("fetch", function (event) {
            if (event.request.method !== "GET") return;

            event.respondWith(
                fetch(event.request).catch(function (error) {
                    // The following validates that the request was for a navigation to a new document
                    if (
                        event.request.destination !== "document" ||
                        event.request.mode !== "navigate"
                    ) {
                        return;
                    }

                    console.error("[PWA Builder] Network request Failed. Serving offline page " + error);
                    return caches.open(CACHE).then(function (cache) {
                        return cache.match(offlineFallbackPage);
                    });
                })
            );
        });

        // This is an event that can be fired from your page to tell the SW to update the offline page
        self.addEventListener("refreshOffline", function () {
            const offlinePageRequest = new Request(offlineFallbackPage);

            return fetch(offlineFallbackPage).then(function (response) {
                return caches.open(CACHE).then(function (cache) {
                    console.log("[PWA Builder] Offline page updated from refreshOffline event: " + response.url);
                    return cache.put(offlinePageRequest, response);
                });
            });
        });
    </script>
</head>

<body>
    <header>
        <nav>
            <img class="flags" src="images/pt-BR.svg" id="pt" onclick="changeLang('pt')">
            <img class="flags" src="images/en-US.svg" id="en" onclick="changeLang('en')">
            <img class="flags" src="images/es-ES.svg" id="es" onclick="changeLang('es')">
        </nav>
        <h1 id="title"></h1>
    </header>
    <section class="versiclesS border">
        <article class="versiclesA">
            <p id="versicleP"></p>
            <div class="buttonsV">
                <img src="images/arrowL.svg" class="disabledB" id="backV">
                <img src="images/arrowR.svg" class="activatedB" id="nextV">
            </div>
        </article>
    </section>
    <section class="calcS">
        <label for="time" id="value"></label>
        <input type="number" id="time" autofocus><br>
        <span id="tooltip" class="hiden"></span>
        <label for="years2" id="years"></label>
        <div class="child-borders groupBtn">
            <button class="btnCalc" value="seconds" id="btnCalcSec"></button>
            <button class="btnCalc" value="minutes" id="btnCalcMin"></button>
            <button class="btnCalc" value="hours" id="btnCalcHour"></button>
            <button class="btnCalc" value="days" id="btnCalcDay"></button>
            <button class="btnCalc" value="weeks" id="btnCalcWeek"></button>
            <button class="btnCalc" value="months" id="btnCalcMth"></button>
            <button class="btnCalc" value="years" id="btnCalcYear"></button>
        </div>
    </section>
    <section class="resultS border border-primary">
        <p id="resultT"></p>
        <p id="result"></p>
    </section>
    <footer>
        Marchi Developments
    </footer>
</body>

</html>