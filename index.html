<!DOCTYPE html>
<html>

<head>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" type="text/css" href="css/paper.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/script.js"></script>
    <script src="js/textsLanguage.js"></script>
    <script>
        //This is the "Offline page" service worker
        //Install stage sets up the offline page in the cahche and opens a new cache
        self.addEventListener('install', function (event) {
            var offlinePage = new Request('offline.html');
            event.waitUntil(
                fetch(offlinePage).then(function (response) {
                    return caches.open('pwabuilder-offline').then(function (cache) {
                        console.log('[PWA Builder] Cached offline page during Install' + response.url);
                        return cache.put(offlinePage, response);
                    });
                }));
        });

        //If any fetch fails, it will show the offline page.
        //Maybe this should be limited to HTML documents?
        self.addEventListener('fetch', function (event) {
            event.respondWith(
                fetch(event.request).catch(function (error) {
                    console.error('[PWA Builder] Network request Failed. Serving offline page ' + error);
                    return caches.open('pwabuilder-offline').then(function (cache) {
                        return cache.match('offline.html');
                    });
                }));
        });

        //This is a event that can be fired from your page to tell the SW to update the offline page
        self.addEventListener('refreshOffline', function (response) {
            return caches.open('pwabuilder-offline').then(function (cache) {
                console.log('[PWA Builder] Offline page updated from refreshOffline event: ' + response.url);
                return cache.put(offlinePage, response);
            });
        });
    </script>
</head>

<body>
    <header>
        <nav>
            <img class="flags" src="img/pt-BR.svg" id="pt" onclick="changeLang('pt')">
            <img class="flags" src="img/en-US.svg" id="en" onclick="changeLang('en')">
            <img class="flags" src="img/es-ES.svg" id="es" onclick="changeLang('es')">
        </nav>
        <h1 id="title"></h1>
    </header>
    <section class="versiclesS border">
        <article class="versiclesA">
            <p id="versicleP"></p>
            <div class="buttonsV">
                <img src="img/arrowL.svg" class="disabledB" id="backV">
                <img src="img/arrowR.svg" class="activatedB" id="nextV">
            </div>
        </article>
    </section>
    <section class="calcS">
        <label for="time" id="value"></label>
        <input type="number" id="time" autofocus><br>
        <span id="tooltip" class="hiden"></span>
        <label for="years2" id="years"></label>
        <div class="child-borders groupBtn">
            <button class="btnCalc" value="seconds" id="btnCalcSec"></button>
            <button class="btnCalc" value="minutes" id="btnCalcMin"></button>
            <button class="btnCalc" value="hours" id="btnCalcHour"></button>
            <button class="btnCalc" value="days" id="btnCalcDay"></button>
            <button class="btnCalc" value="weeks" id="btnCalcWeek"></button>
            <button class="btnCalc" value="months" id="btnCalcMth"></button>
            <button class="btnCalc" value="years" id="btnCalcYear"></button>
        </div>
    </section>
    <section class="resultS border border-primary">
        <p id="resultT"></p>
        <p id="result"></p>
    </section>
    <footer>
        Marchi Developments
    </footer>
</body>

</html>